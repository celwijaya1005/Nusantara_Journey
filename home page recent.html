<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>NuJo - Home</title>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <style>

        * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
    }

    html, body {
        height: 100%;
    }

    body {
        font-family: 'Poppins', sans-serif;
        background-color: #f0f2f5;
        color: #333;
        display: flex;
        justify-content: center;
        height: 100%; 
    }

    .dashboard-container {
        display: grid;
        grid-template-columns: 250px 1fr 300px; 
        max-width: 1500px; 
        width: 100%;
        background-color: #fff;
        border-radius: 10px;
        box-shadow: 0 4px 20px rgba(0, 0, 0, 0.1);
        overflow: hidden;
        height: 100vh; 
    }

    .left-sidebar {
        padding: 20px;
        border-right: 1px solid #eee;
        display: flex;
        flex-direction: column;
        background-color: #fff;
        box-shadow: none;
        height: 100%; 
        overflow-y: hidden; 
    }
    .left-sidebar .logo {
        margin-bottom: 30px;
        flex-shrink: 0;
    }

    .left-sidebar .logo img {
        max-width: 120px;
        height: auto;
        
    }

    .left-sidebar .nav-links {
        list-style: none;
        flex-grow: 1; 
        margin-top: 20px;
        overflow-y: auto;
    }
    
    .left-sidebar .nav-links::-webkit-scrollbar {
        width: 5px;
    }
    
    .left-sidebar .nav-links::-webkit-scrollbar-thumb {
        background-color: #ccc;
        border-radius: 10px;
    }
    
    .left-sidebar .nav-links li {
        margin-bottom: 15px;
    }

    .left-sidebar .nav-links a {
        display: flex;
        align-items: center;
        padding: 10px 15px;
        text-decoration: none;
        color: #555;
        font-weight: 500;
        border-radius: 8px;
        transition: background-color 0.2s ease, color 0.2s ease;
    }

    .left-sidebar .nav-links a i {
        margin-right: 15px;
        font-size: 1.2rem;
    }

    .left-sidebar .nav-links a.active,
    .left-sidebar .nav-links a:hover {
        background-color: #00cba3;
        color: #fff;
    }
    
    
    .left-sidebar .nav-links li:last-child a {
        background-color: transparent; 
        color: #555;
        padding: 0;
    }
    .left-sidebar .nav-links li:last-child a i {
        background-color: #00cba3; 
        color: #fff;
        padding: 8px;
        border-radius: 50%;
        font-size: 1rem;
        margin-right: 15px;
        width: 38px; 
        height: 38px;
        display: flex;
        align-items: center;
        justify-content: center;
    }
    .left-sidebar .nav-links li:last-child a:hover i {
        background-color: #1a9c94;
    }


    .left-sidebar .profile-card-link {
        text-decoration: none;
        display: block;
    }

    .left-sidebar .profile-card {
        display: flex;
        align-items: center;
        padding: 15px;
        background-color: #f9f9f9;
        border-radius: 10px;
        margin-top: 15px;
        flex-shrink: 0;
        transition: background-color 0.2s ease, transform 0.1s ease;
        cursor: pointer;
    }

    .left-sidebar .profile-card:hover {
        background-color: #e8f5f3;
        transform: translateY(-2px);
    }

    .left-sidebar .profile-card img {
        width: 50px;
        height: 50px;
        border-radius: 50%;
        object-fit: cover;
        margin-right: 15px;
        border: 2px solid #eee;
    }

    .left-sidebar .profile-info h4 {
        margin: 0;
        font-size: 1rem;
        font-weight: 600;
        color: #333;
    }

    .left-sidebar .profile-info p {
        margin: 0;
        font-size: 0.85rem;
        color: #888;
    }

    
    .main-content {
        padding: 20px;
        border-right: 1px solid #eee;
        height: 100%;
        overflow-y: auto;
    }

        .main-content .feed-header {
            display: flex;
            gap: 20px;
            margin-bottom: 25px;
            border-bottom: 1px solid #eee;
            padding-bottom: 15px;
        }

        .main-content .feed-header a {
            text-decoration: none;
            color: #888;
            font-weight: 600;
            padding-bottom: 10px;
            transition: color 0.2s ease;
        }

        .main-content .feed-header a:hover {
            color: #333;
        }

        .main-content .feed-header a.active {
            color: #00cba3;
            border-bottom: 3px solid #00cba3;
        }

        .main-content .new-post-box {
            display: flex;
            align-items: center;
            background-color: #f9f9f9;
            padding: 15px 20px;
            border-radius: 10px;
            margin-bottom: 30px;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.05);
        }

        .main-content .new-post-box img {
            width: 50px;
            height: 50px;
            border-radius: 50%;
            object-fit: cover;
            margin-right: 15px;
            border: 2px solid #eee;
        }

        .main-content .new-post-box input {
            flex-grow: 1;
            border: none;
            outline: none;
            background: transparent;
            font-size: 0.95rem;
            color: #555;
            padding: 8px 0;
        }

        .main-content .new-post-box button {
            background-color: #00cba3;
            color: #fff;
            border: none;
            padding: 10px 20px;
            border-radius: 8px;
            font-weight: 600;
            cursor: pointer;
            transition: background-color 0.2s ease;
        }

        .main-content .new-post-box button:hover {
            background-color: #1a9c94;
        }

        
        .feed-post {
            background-color: #fff;
            padding: 25px;
            border-radius: 10px;
            margin-bottom: 25px;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.05);
            border: 1px solid #eee;
        }

        .feed-post .post-header {
            display: flex;
            align-items: center;
            justify-content: space-between;
            margin-bottom: 15px;
        }

        .feed-post .post-header .user-info {
            display: flex;
            align-items: center;
        }

        .feed-post .post-header .user-info img {
            width: 45px;
            height: 45px;
            border-radius: 50%;
            object-fit: cover;
            margin-right: 12px;
            border: 2px solid #eee;
        }

        .feed-post .post-header .user-info h4 {
            margin: 0;
            font-size: 0.95rem;
            font-weight: 600;
            color: #333;
        }

        .feed-post .post-header .user-info p {
            margin: 0;
            font-size: 0.8rem;
            color: #888;
        }

        .feed-post .post-header .more-options {
            color: #888;
            font-size: 1.2rem;
            cursor: pointer;
            padding: 5px;
            border-radius: 50%;
            transition: background-color 0.2s ease;
        }

        .feed-post .post-header .more-options:hover {
            background-color: #f0f0f0;
        }

        .feed-post .post-content p {
            font-size: 0.95rem;
            line-height: 1.5;
            margin-bottom: 15px;
        }

        .feed-post .post-content .hashtags a {
            color: #00cba3;
            text-decoration: none;
            font-size: 0.9rem;
            margin-right: 8px;
        }

        .feed-post .post-content .hashtags a:hover {
            text-decoration: underline;
        }

        .feed-post .post-images {
            display: grid;
            grid-template-columns: repeat(3, 1fr); 
            gap: 10px;
            margin-top: 20px;
            margin-bottom: 20px;
        }

        .feed-post .post-images img {
            width: 100%;
            height: 150px; 
            object-fit: cover;
            border-radius: 8px;
            cursor: pointer;
        }
        
        .feed-post .post-images.two-images {
            grid-template-columns: repeat(2, 1fr);
        }
        
        .feed-post .post-images.one-image {
            grid-template-columns: 1fr;
        }
        .feed-post .post-images.one-image img {
            height: 250px; 
        }


        .feed-post .post-actions {
            display: flex;
            gap: 20px;
            justify-content: flex-start; 
            border-top: 1px solid #eee;
            padding-top: 15px;
            margin-top: 15px;
        }

        .feed-post .post-actions .action-btn {
            display: flex;
            align-items: center;
            color: #888;
            text-decoration: none;
            font-size: 0.9rem;
            transition: color 0.2s ease;
        }

        .feed-post .post-actions .action-btn i {
            margin-right: 8px;
            font-size: 1.1rem;
        }

        .feed-post .post-actions .action-btn:hover {
            color: #00cba3;
        }


        
        .right-sidebar {
            padding: 20px;
            position: relative;
            overflow-y: auto;
        }

        .right-sidebar .search-bar {
            display: flex;
            align-items: center;
            background-color: #f0f2f5;
            border-radius: 8px;
            padding: 10px 15px;
            margin-bottom: 30px;
        }

        .right-sidebar .search-bar i {
            color: #888;
            margin-right: 10px;
        }

        .right-sidebar .search-bar input {
            border: none;
            outline: none;
            background: transparent;
            flex-grow: 1;
            font-size: 0.9rem;
            color: #555;
        }

        .right-sidebar .section-title {
            font-size: 1.1rem;
            font-weight: 600;
            color: #333;
            margin-bottom: 20px;
        }

       
        .right-sidebar .stories {
            margin-bottom: 30px;
        }

        .right-sidebar .stories .story-list {
            display: flex;
            gap: 15px;
            overflow-x: auto; 
            padding-bottom: 10px; 
        }
        .right-sidebar .stories .story-list::-webkit-scrollbar {
            height: 5px;
        }
        .right-sidebar .stories .story-list::-webkit-scrollbar-thumb {
            background-color: #ccc;
            border-radius: 10px;
        }

        .right-sidebar .stories .story-item {
            display: flex;
            flex-direction: column;
            align-items: center;
            text-align: center;
            flex-shrink: 0; 
            width: 70px; 
        }

        .right-sidebar .stories .story-item img {
            width: 60px;
            height: 60px;
            border-radius: 50%;
            object-fit: cover;
            border: 3px solid #00cba3; 
            padding: 2px;
            margin-bottom: 5px;
            cursor: pointer;
        }

        .right-sidebar .stories .story-item p {
            font-size: 0.8rem;
            color: #555;
            white-space: nowrap; 
            overflow: hidden;
            text-overflow: ellipsis; 
            max-width: 100%;
        }

        
        .right-sidebar .suggestions .suggestion-item {
            display: flex;
            align-items: center;
            justify-content: space-between;
            margin-bottom: 15px;
        }

        .right-sidebar .suggestions .user-info {
            display: flex;
            align-items: center;
        }

        .right-sidebar .suggestions .user-info img {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            object-fit: cover;
            margin-right: 10px;
        }

        .right-sidebar .suggestions .user-info div h5 {
            margin: 0;
            font-size: 0.9rem;
            font-weight: 600;
            color: #333;
        }

        .right-sidebar .suggestions .user-info div p {
            margin: 0;
            font-size: 0.75rem;
            color: #888;
        }

        .right-sidebar .suggestions .follow-btn {
            background-color: #00cba3;
            color: #fff;
            border: none;
            padding: 8px 15px;
            border-radius: 20px;
            font-size: 0.8rem;
            font-weight: 500;
            cursor: pointer;
            transition: background-color 0.2s ease;
        }

        .right-sidebar .suggestions .follow-btn:hover {
            background-color: #1a9c94;
        }

        
        .right-sidebar .trending .trending-item {
            margin-bottom: 12px;
        }

        .right-sidebar .trending .trending-item p {
            margin: 0;
            font-size: 0.85rem;
            color: #888;
        }

        .right-sidebar .trending .trending-item h5 {
            margin: 0;
            font-size: 0.95rem;
            font-weight: 600;
            color: #333;
        }

        .right-sidebar .trending .trending-item h5 a {
            color: #00cba3;
            text-decoration: none;
        }

        .right-sidebar .trending .trending-item h5 a:hover {
            text-decoration: underline;
        }

        .right-sidebar .trending .show-more {
            color: #00cba3;
            text-decoration: none;
            font-size: 0.85rem;
            font-weight: 500;
            margin-top: 10px;
            display: inline-block;
        }

        .right-sidebar .trending .show-more:hover {
            text-decoration: underline;
        }


        
        @media (max-width: 1024px) {
            .dashboard-container {
                grid-template-columns: 80px 1fr 280px; 
            }

            .left-sidebar .nav-links a span {
                display: none; 
            }
            .left-sidebar .nav-links a {
                justify-content: center;
                padding: 10px 0;
            }
            .left-sidebar .nav-links a i {
                margin-right: 0;
            }
            .left-sidebar .logo {
                text-align: center;
            }
            .left-sidebar .logo img {
                max-width: 50px;
            }
            .left-sidebar .profile-card {
                display: none; 
            }
            .left-sidebar .nav-links li:last-child a i {
                 margin-right: 0; 
                 width: 38px;
                 height: 38px;
            }
        }

        @media (max-width: 768px) {
            .dashboard-container {
                grid-template-columns: 1fr; 
                box-shadow: none; 
            }
            body {
                padding: 0;
                background-color: #fff; 
            }

            .left-sidebar {
                border-right: none;
                padding: 15px;
                flex-direction: row; 
                align-items: center;
                justify-content: space-between;
                border-bottom: 1px solid #eee;
            }
            
            .left-sidebar .logo {
                margin-bottom: 0;
            }
            .left-sidebar .nav-links {
                display: none; 
            }
            .left-sidebar .profile-card {
                display: none;
            }
            .left-sidebar .logo img {
                max-width: 80px;
            }

            .main-content {
                border-right: none;
                padding: 15px;
            }

            .right-sidebar {
                display: none; 
            }

            .main-content .feed-header {
                justify-content: space-around;
            }
            .main-content .new-post-box {
                flex-direction: column;
                align-items: flex-start;
                padding: 15px;
            }
            .main-content .new-post-box img {
                margin-bottom: 10px;
            }
            .main-content .new-post-box input {
                width: 100%;
                margin-bottom: 15px;
                padding: 10px;
                border: 1px solid #eee;
                border-radius: 5px;
            }
            .main-content .new-post-box button {
                width: 100%;
                padding: 12px;
            }
            .feed-post .post-images {
                grid-template-columns: 1fr; 
            }
            .feed-post .post-images img {
                 height: 200px;
            }
            .feed-post .post-images.one-image img {
                height: 250px;
            }
        }
    </style>
</head>
<body>
    <div class="dashboard-container">
        
        <div class="left-sidebar">
            <div class="logo">
                <img src="logo_nujo2.png" alt="NuJo Logo">
            </div>
            <ul class="nav-links">
                <li><a href="home page.html" class="active"><i class="fas fa-home"></i> <span>Home</span></a></li>
                <li><a href="notif page.html"><i class="fas fa-bell"></i> <span>Notifications</span></a></li>
                <li><a href="message page.html"><i class="fas fa-envelope"></i> <span>Messages</span></a></li>
                <li><a href="post page.html"><i class="fas fa-image"></i> <span>Post</span></a></li>
                <li><a href="newpost.html"><i class="fas fa-plus"></i> <span>New Post</span></a></li>
            </ul>
            <a href="profile.html" class="profile-card-link">
                <div class="profile-card">
                    <img src="imgprofil.png" alt="Floyd Miles">
                    <div class="profile-info">
                        <h4>Floyd Miles</h4>
                        <p>@FloydMiles</p>
                    </div>
                </div>
            </a>
        </div>

        
        <div class="main-content">
            <div class="feed-header">
                <a href="home page recent.html" class="active">Recents</a>
                <a href="home page.html">Popular</a>
            </div>

            <div class="new-post-box">
                <img src="imgprofil.png" alt="Floyd Miles">
                <input type="text" placeholder="What do you think Floyd Miles?">
                <button>Upload activity</button>
            </div>

            
            <div class="feed-post">
                <div class="post-header">
                    <div class="user-info">
                        <img src="imgprofil.png" alt="Robert Fox">
                        <div>
                            <h4>Robert Fox</h4>
                            <p>@RobertFox</p>
                        </div>
                    </div>
                    <i class="fas fa-ellipsis-h more-options"></i>
                </div>
                <div class="post-content">
                    <p>Setiap sudut Indonesia selalu punya kisah. Dari suara ombak yang menenangkan hingga hijaunya pegunungan yang memanjakan mata, perjalanan ini bikin kamu sadar betapa kayanya negeri kita. Nusantara bukan sekadar destinasi, tapi rumah yang selalu layak dirindukan.</p>
                    <div class="hashtags">
                        <a href="#">#Indonesia</a>
                        <a href="#">#WonderfulIndonesia</a>
                    </div>
                    <div class="post-images">
                        <img src="imgpram.png">
                        <img src="imgampat.jpg">
                        <img src="imgbalekambang.jpg">
                    </div>
                </div>
                <div class="post-actions">
                    <a href="#" class="action-btn"><i class="far fa-thumbs-up"></i></a>
                    <a href="#" class="action-btn"><i class="far fa-comment"></i></a>
                    <a href="#" class="action-btn"><i class="fas fa-share-alt"></i></a>
                </div>
            </div>

            <div class="feed-post">
                <div class="post-header">
                    <div class="user-info">
                        <img src="imgprofil.png" alt="Jane Doe">
                        <div>
                            <h4>Jane Doe</h4>
                            <p>@JaneDoe</p>
                        </div>
                    </div>
                    <i class="fas fa-ellipsis-h more-options"></i>
                </div>
                <div class="post-content">
                    <p>Sunset di Pantai Kuta memang tak ada duanya! Langit berubah menjadi kanvas warna-warni yang memukau. Sangat indah! </p>
                    <div class="hashtags">
                        <a href="#">#Bali</a>
                        <a href="#">#KutaBeach</a>
                        <a href="#">#Sunset</a>
                    </div>
                    <div class="post-images one-image">
                        <img src="imgkuta.png" alt="Kuta Sunset">
                    </div>
                </div>
                <div class="post-actions">
                    <a href="#" class="action-btn"><i class="far fa-thumbs-up"></i> 124</a>
                    <a href="#" class="action-btn"><i class="far fa-comment"></i> 32</a>
                    <a href="#" class="action-btn"><i class="fas fa-share-alt"></i></a>
                </div>
            </div>

        </div>

        
        <div class="right-sidebar">
            <div class="search-bar">
                <i class="fas fa-search"></i>
                <input type="text" placeholder="Search">
            </div>

            <div class="section-title">Stories</div>
            <div class="stories">
                <div class="story-list">
                    <div class="story-item">
                        <img src="imgprofil.png" alt="Floyd Miles">
                        <p>Floyd Miles</p>
                    </div>
                    <div class="story-item">
                        <img src="imgprofil.png" alt="James Guy">
                        <p>James Guy</p>
                    </div>
                    <div class="story-item">
                        <img src="imgprofil.png" alt="Wade Warren">
                        <p>Wade Warren</p>
                    </div>
                     <div class="story-item">
                        <img src="imgprofil.png" alt="Jane Doe">
                        <p>Jane Doe</p>
                    </div>
                     <div class="story-item">
                        <img src="imgprofil.png" alt="Alan M">
                        <p>Alan M</p>
                    </div>
                </div>
            </div>

            <div class="section-title">Suggestion</div>
            <div class="suggestions">
                <div class="suggestion-item">
                    <div class="user-info">
                        <img src="imgprofil.png" alt="Jacob Morgan">
                        <div>
                            <h5>Jacob Morgan</h5>
                            <p>@JacobMorgan</p>
                        </div>
                    </div>
                    <button class="follow-btn">follow</button>
                </div>
                <div class="suggestion-item">
                    <div class="user-info">
                        <img src="imgprofil.png" alt="Kristin Watson">
                        <div>
                            <h5>Kristin Watson</h5>
                            <p>@KristinWatson</p>
                        </div>
                    </div>
                    <button class="follow-btn">follow</button>
                </div>
                <div class="suggestion-item">
                    <div class="user-info">
                        <img src="imgprofil.png" alt="Jerome Bell">
                        <div>
                            <h5>Jerome Bell</h5>
                            <p>@JeromeBell</p>
                        </div>
                    </div>
                    <button class="follow-btn">follow</button>
                </div>
                <div class="suggestion-item">
                    <div class="user-info">
                        <img src="imgprofil.png" alt="Esther Howard">
                        <div>
                            <h5>Esther Howard</h5>
                            <p>@EstherHoward</p>
                        </div>
                    </div>
                    <button class="follow-btn">follow</button>
                </div>
            </div>

            <div class="section-title">Trending #</div>
            <div class="trending">
                <div class="trending-item">
                    <p>Trending 1</p>
                    <h5><a href="#">#Indonesia</a></h5>
                    <p>19.45K post</p>
                </div>
                <div class="trending-item">
                    <p>Trending 2</p>
                    <h5><a href="#">#Bali</a></h5>
                    <p>17.08K post</p>
                </div>
                <div class="trending-item">
                    <p>Trending 3</p>
                    <h5><a href="#">#Jakarta</a></h5>
                    <p>10.05K post</p>
                </div>
                <a href="#" class="show-more">Show more...</a>
            </div>
        </div>
    </div>
    <script>
        const commentData = {
            0: [
                { 
                    author: 'Budi Santoso', 
                    username: '@BudiS', 
                    avatar: 'https://i.pravatar.cc/150?img=15',
                    text: 'Wah, fotonya bagus banget! Bikin pengen liburan ke sana.', 
                    time: '2h ago',
                    likes: 12,
                    liked: false
                },
                { 
                    author: 'Siti Nurhaliza', 
                    username: '@SitiN', 
                    avatar: 'https://i.pravatar.cc/150?img=25',
                    text: 'Indonesia memang luar biasa indah! ðŸ‡®ðŸ‡©', 
                    time: '3h ago',
                    likes: 8,
                    liked: false
                },
                { 
                    author: 'Ahmad Rifai', 
                    username: '@AhmadR', 
                    avatar: 'https://i.pravatar.cc/150?img=35',
                    text: 'Spot pertama itu di Prambanan ya? Keren!', 
                    time: '5h ago',
                    likes: 5,
                    liked: false
                }
            ],
            1: [
                { 
                    author: 'Dewi Lestari', 
                    username: '@DewiL', 
                    avatar: 'https://i.pravatar.cc/150?img=40',
                    text: 'Sunset di Kuta emang ga ada obat! Best view ever!', 
                    time: '1h ago',
                    likes: 15,
                    liked: false
                },
                { 
                    author: 'Rina Melati', 
                    username: '@RinaM', 
                    avatar: 'https://i.pravatar.cc/150?img=45',
                    text: 'Kapan terakhir ke Bali? Pengen balik lagi deh!', 
                    time: '2h ago',
                    likes: 7,
                    liked: false
                }
            ]
        };

        const postImages = {
            0: [
                'https://images.unsplash.com/photo-1596422846543-75c6fc197f07?w=800&h=600&fit=crop',
                'https://images.unsplash.com/photo-1559628376-f3fe5f782a2e?w=800&h=600&fit=crop',
                'https://images.unsplash.com/photo-1537953773345-d172ccf13cf1?w=800&h=600&fit=crop'
            ],
            1: [
                'https://images.unsplash.com/photo-1537996194471-e657df975ab4?w=800&h=600&fit=crop'
            ]
        };

        let currentPostIndex = 0;
        let currentImageIndex = 0;
        let currentPostForImage = 0;

        const storyData = {
            'Floyd Miles': [
                { image: 'https://images.unsplash.com/photo-1537996194471-e657df975ab4?w=500&h=800&fit=crop', time: '2 hours ago' },
                { image: 'https://images.unsplash.com/photo-1559628376-f3fe5f782a2e?w=500&h=800&fit=crop', time: '2 hours ago' }
            ],
            'James Guy': [
                { image: 'https://images.unsplash.com/photo-1596422846543-75c6fc197f07?w=500&h=800&fit=crop', time: '4 hours ago' }
            ],
            'Wade Warren': [
                { image: 'https://images.unsplash.com/photo-1537953773345-d172ccf13cf1?w=500&h=800&fit=crop', time: '6 hours ago' }
            ],
            'Jane Doe': [
                { image: 'https://images.unsplash.com/photo-1588668214407-6ea9a6d8c272?w=500&h=800&fit=crop', time: '8 hours ago' }
            ],
            'Alan M': [
                { image: 'https://images.unsplash.com/photo-1555400038-63f5ba517a47?w=500&h=800&fit=crop', time: '10 hours ago' }
            ]
        };

        let currentStoryUser = '';
        let currentStoryIndex = 0;
        let storyInterval;

        const hamburgerBtn = document.getElementById('hamburgerBtn');
        const leftSidebar = document.getElementById('leftSidebar');
        const sidebarOverlay = document.getElementById('sidebarOverlay');

        hamburgerBtn.addEventListener('click', () => {
            leftSidebar.classList.toggle('active');
            sidebarOverlay.classList.toggle('active');
        });

        sidebarOverlay.addEventListener('click', () => {
            leftSidebar.classList.remove('active');
            sidebarOverlay.classList.remove('active');
        });

        const newPostBox = document.getElementById('newPostBox');
        newPostBox.addEventListener('click', () => {
            window.location.href = 'newpost.html';
        });

        const likeBtns = document.querySelectorAll('.like-btn');
        const postLikes = [142, 324];

        likeBtns.forEach((btn) => {
            btn.addEventListener('click', (e) => {
                e.preventDefault();
                const postIndex = parseInt(btn.dataset.post);
                const icon = btn.querySelector('i');
                const countSpan = btn.querySelector('.like-count');
                
                if (btn.classList.contains('liked')) {
                    btn.classList.remove('liked');
                    icon.classList.remove('fas');
                    icon.classList.add('far');
                    postLikes[postIndex]--;
                } else {
                    btn.classList.add('liked');
                    icon.classList.remove('far');
                    icon.classList.add('fas');
                    postLikes[postIndex]++;
                    
                    icon.style.transform = 'scale(1.3)';
                    setTimeout(() => {
                        icon.style.transform = 'scale(1)';
                    }, 200);

                    for(let i = 0; i < 5; i++) {
                        const particle = document.createElement('i');
                        particle.className = 'fas fa-thumbs-up like-particle';
                        particle.style.left = (Math.random() * 40 - 20) + 'px';
                        btn.style.position = 'relative';
                        btn.appendChild(particle);
                        setTimeout(() => particle.remove(), 1000);
                    }
                }
                
                countSpan.textContent = postLikes[postIndex];
            });
        });

        const commentBtns = document.querySelectorAll('.comment-btn');
        commentBtns.forEach((btn) => {
            btn.addEventListener('click', (e) => {
                e.preventDefault();
                const postIndex = parseInt(btn.closest('.feed-post').querySelector('.like-btn').dataset.post);
                openCommentModal(postIndex);
            });
        });

        function openCommentModal(postIndex) {
            currentPostIndex = postIndex;
            const modal = document.getElementById('commentModal');
            const commentList = document.getElementById('commentList');
            
            commentList.innerHTML = '';
            
            if (commentData[postIndex]) {
                commentData[postIndex].forEach((comment, index) => {
                    const commentItem = document.createElement('div');
                    commentItem.className = 'comment-item';
                    commentItem.innerHTML = `
                        <img src="${comment.avatar}" alt="${comment.author}">
                        <div class="comment-content">
                            <div class="comment-author">
                                ${comment.author} <span>${comment.username}</span>
                            </div>
                            <div class="comment-text">${comment.text}</div>
                            <div class="comment-actions">
                                <a href="#" class="comment-like-btn ${comment.liked ? 'liked' : ''}" data-comment-index="${index}">
                                    ${comment.likes} ${comment.likes === 1 ? 'like' : 'likes'}
                                </a>
                                <a href="#">Reply</a>
                                <span style="color: #ccc;">${comment.time}</span>
                            </div>
                        </div>
                    `;
                    commentList.appendChild(commentItem);
                });

                // Add event listeners to comment like buttons
                document.querySelectorAll('.comment-like-btn').forEach(btn => {
                    btn.addEventListener('click', (e) => {
                        e.preventDefault();
                        const commentIndex = parseInt(btn.dataset.commentIndex);
                        toggleCommentLike(commentIndex, btn);
                    });
                });
            } else {
                commentList.innerHTML = '<p style="text-align: center; color: #888; padding: 40px 0;">No comments yet. Be the first to comment!</p>';
            }
            
            modal.classList.add('active');
            document.body.style.overflow = 'hidden';
        }

        function toggleCommentLike(commentIndex, btn) {
            const comment = commentData[currentPostIndex][commentIndex];
            
            if (comment.liked) {
                comment.liked = false;
                comment.likes--;
                btn.classList.remove('liked');
            } else {
                comment.liked = true;
                comment.likes++;
                btn.classList.add('liked');
            }
            
            btn.textContent = `${comment.likes} ${comment.likes === 1 ? 'like' : 'likes'}`;
        }

        function closeCommentModal() {
            const modal = document.getElementById('commentModal');
            modal.classList.remove('active');
            document.body.style.overflow = 'auto';
        }

        function submitComment() {
            const input = document.getElementById('commentInput');
            const commentText = input.value.trim();
            
            if (!commentText) return;
            
            if (!commentData[currentPostIndex]) {
                commentData[currentPostIndex] = [];
            }
            
            const newComment = {
                author: 'Dilan',
                username: '@Dilan1990',
                avatar: 'https://i.pravatar.cc/150?img=12',
                text: commentText,
                time: 'Just now',
                likes: 0,
                liked: false
            };
            
            commentData[currentPostIndex].unshift(newComment);
            
            const commentList = document.getElementById('commentList');
            const commentItem = document.createElement('div');
            commentItem.className = 'comment-item';
            const commentIndex = 0;
            commentItem.innerHTML = `
                <img src="${newComment.avatar}" alt="${newComment.author}">
                <div class="comment-content">
                    <div class="comment-author">
                        ${newComment.author} <span>${newComment.username}</span>
                    </div>
                    <div class="comment-text">${newComment.text}</div>
                    <div class="comment-actions">
                        <a href="#" class="comment-like-btn" data-comment-index="${commentIndex}">
                            ${newComment.likes} ${newComment.likes === 1 ? 'like' : 'likes'}
                        </a>
                        <a href="#">Reply</a>
                        <span style="color: #ccc;">${newComment.time}</span>
                    </div>
                </div>
            `;
            
            if (commentList.querySelector('p')) {
                commentList.innerHTML = '';
            }
            
            commentList.insertBefore(commentItem, commentList.firstChild);
            
            // Add event listener to the new comment like button
            commentItem.querySelector('.comment-like-btn').addEventListener('click', (e) => {
                e.preventDefault();
                toggleCommentLike(0, e.target);
            });
            
            const commentCountSpan = document.querySelectorAll('.comment-count')[currentPostIndex];
            const currentCount = parseInt(commentCountSpan.textContent);
            commentCountSpan.textContent = currentCount + 1;
            
            input.value = '';
        }

        function openImageModal(postIndex, imageIndex) {
            currentPostForImage = postIndex;
            currentImageIndex = imageIndex;
            
            const modal = document.getElementById('imageModal');
            const modalImage = document.getElementById('modalImage');
            const counter = document.getElementById('imageCounter');
            const images = postImages[postIndex];
            
            modalImage.src = images[currentImageIndex];
            counter.textContent = `${currentImageIndex + 1} / ${images.length}`;
            
            // Show/hide navigation buttons
            const prevBtn = document.getElementById('imagePrevBtn');
            const nextBtn = document.getElementById('imageNextBtn');
            
            prevBtn.style.display = images.length > 1 ? 'flex' : 'none';
            nextBtn.style.display = images.length > 1 ? 'flex' : 'none';
            counter.style.display = images.length > 1 ? 'block' : 'none';
            
            modal.classList.add('active');
            document.body.style.overflow = 'hidden';
        }

        function closeImageModal() {
            const modal = document.getElementById('imageModal');
            modal.classList.remove('active');
            document.body.style.overflow = 'auto';
        }

        function navigateImage(direction) {
            const images = postImages[currentPostForImage];
            
            if (direction === 'next') {
                currentImageIndex = (currentImageIndex + 1) % images.length;
            } else {
                currentImageIndex = (currentImageIndex - 1 + images.length) % images.length;
            }
            
            const modalImage = document.getElementById('modalImage');
            const counter = document.getElementById('imageCounter');
            
            modalImage.src = images[currentImageIndex];
            counter.textContent = `${currentImageIndex + 1} / ${images.length}`;
        }

        document.getElementById('commentClose').addEventListener('click', closeCommentModal);
        document.getElementById('commentSubmitBtn').addEventListener('click', submitComment);
        
        document.getElementById('commentInput').addEventListener('keypress', (e) => {
            if (e.key === 'Enter') {
                submitComment();
            }
        });

        document.getElementById('commentModal').addEventListener('click', (e) => {
            if (e.target.id === 'commentModal') {
                closeCommentModal();
            }
        });

        // Image modal event listeners
        document.getElementById('imageModalClose').addEventListener('click', closeImageModal);
        document.getElementById('imagePrevBtn').addEventListener('click', () => navigateImage('prev'));
        document.getElementById('imageNextBtn').addEventListener('click', () => navigateImage('next'));
        
        document.getElementById('imageModal').addEventListener('click', (e) => {
            if (e.target.id === 'imageModal') {
                closeImageModal();
            }
        });

        // Add click events to all post images
        document.querySelectorAll('.feed-post').forEach((post, postIndex) => {
            const images = post.querySelectorAll('.post-images img');
            images.forEach((img, imgIndex) => {
                img.addEventListener('click', () => {
                    openImageModal(postIndex, imgIndex);
                });
            });
        });

        const followBtns = document.querySelectorAll('.follow-btn');
        followBtns.forEach(btn => {
            btn.addEventListener('click', () => {
                if (btn.classList.contains('following')) {
                    btn.classList.remove('following');
                    btn.textContent = 'follow';
                } else {
                    btn.classList.add('following');
                    btn.textContent = 'following';
                }
            });
        });

        function viewStory(username) {
            currentStoryUser = username;
            currentStoryIndex = 0;
            showStory();
        }

        function showStory() {
            const modal = document.getElementById('storyModal');
            const stories = storyData[currentStoryUser];
            
            if (!stories || currentStoryIndex >= stories.length) {
                closeStory();
                return;
            }

            const story = stories[currentStoryIndex];
            
            document.getElementById('storyUsername').textContent = currentStoryUser;
            document.getElementById('storyTime').textContent = story.time;
            document.getElementById('storyImage').src = story.image;
            
            const storyItems = document.querySelectorAll('.story-item');
            storyItems.forEach(item => {
                if (item.dataset.user === currentStoryUser) {
                    document.getElementById('storyUserImg').src = item.querySelector('img').src;
                }
            });

            const progressBars = document.getElementById('storyProgressBars');
            progressBars.innerHTML = '';
            stories.forEach((_, index) => {
                const bar = document.createElement('div');
                bar.className = 'story-progress-bar';
                const fill = document.createElement('div');
                fill.className = 'story-progress-fill';
                if (index < currentStoryIndex) {
                    fill.style.width = '100%';
                } else if (index === currentStoryIndex) {
                    fill.style.width = '0%';
                }
                bar.appendChild(fill);
                progressBars.appendChild(bar);
            });

            modal.classList.add('active');
            document.body.style.overflow = 'hidden';

            startStoryProgress();
        }

        function startStoryProgress() {
            clearInterval(storyInterval);
            const fills = document.querySelectorAll('.story-progress-fill');
            const currentFill = fills[currentStoryIndex];
            let progress = 0;

            storyInterval = setInterval(() => {
                progress += 1;
                currentFill.style.width = progress + '%';
                
                if (progress >= 100) {
                    nextStory();
                }
            }, 50);
        }

        function nextStory() {
            const stories = storyData[currentStoryUser];
            currentStoryIndex++;
            
            if (currentStoryIndex < stories.length) {
                showStory();
            } else {
                closeStory();
            }
        }

        function previousStory() {
            if (currentStoryIndex > 0) {
                currentStoryIndex--;
                showStory();
            }
        }

        function closeStory() {
            clearInterval(storyInterval);
            const modal = document.getElementById('storyModal');
            modal.classList.remove('active');
            document.body.style.overflow = 'auto';
        }

        function sendStoryMessage() {
            const input = document.getElementById('storyMessageInput');
            if (input.value.trim()) {
                alert('Message sent: ' + input.value);
                input.value = '';
            }
        }

        function likeStory() {
            const btn = document.getElementById('storyLikeBtn');
            const icon = btn.querySelector('i');
            
            if (icon.classList.contains('fas')) {
                icon.classList.remove('fas');
                icon.classList.add('far');
            } else {
                icon.classList.remove('far');
                icon.classList.add('fas');
                icon.style.transform = 'scale(1.3)';
                setTimeout(() => {
                    icon.style.transform = 'scale(1)';
                }, 200);
            }
        }

        document.querySelectorAll('.story-item').forEach(item => {
            item.addEventListener('click', () => {
                viewStory(item.dataset.user);
            });
        });

        document.getElementById('storyClose').addEventListener('click', closeStory);
        document.getElementById('storyNext').addEventListener('click', nextStory);
        document.getElementById('storyPrev').addEventListener('click', previousStory);
        document.getElementById('storySendBtn').addEventListener('click', sendStoryMessage);
        document.getElementById('storyLikeBtn').addEventListener('click', likeStory);

        document.addEventListener('keydown', (e) => {
            if (e.key === 'Escape') {
                closeStory();
                closeCommentModal();
                closeImageModal();
            }
            
            // Navigate images with arrow keys
            const imageModal = document.getElementById('imageModal');
            if (imageModal.classList.contains('active')) {
                if (e.key === 'ArrowLeft') {
                    navigateImage('prev');
                } else if (e.key === 'ArrowRight') {
                    navigateImage('next');
                }
            }
        });

        document.querySelectorAll('.nav-links a').forEach(link => {
            link.addEventListener('click', function() {
                this.style.transform = 'scale(0.95)';
                setTimeout(() => {
                    this.style.transform = 'scale(1)';
                }, 100);
            });
        });

        const profileLink = document.querySelector('.profile-card-link');
        if(profileLink) {
            profileLink.addEventListener('click', function() {
                const card = this.querySelector('.profile-card');
                card.style.transform = 'scale(0.95)';
                setTimeout(() => {
                    card.style.transform = 'translateY(-2px)';
                }, 100);
            });
        }

        const searchInput = document.getElementById('searchInput');
        if (searchInput) {
            searchInput.addEventListener('input', (e) => {
                console.log('Searching for:', e.target.value);
            });
        }
    </script>
</body>
</html>